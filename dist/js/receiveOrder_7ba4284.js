var _vParams=JSON.parse(decodeURI(getQueryString("param"))),container=$(".contarin"),orderReviseInfoCon=$("#orderReviseInfoCon"),receiveOrder=function(){this.init()};receiveOrder.prototype={init:function(){var i=this;i.commonParam=JSON.stringify(commonParam()),i.tokens='"token":"'+_vParams.token+'","secretNumber":"'+_vParams.secretNumber+'"',i.memberId="",i.orderBaseInfo(),setTimeout(function(){fnTip.hideLoading(),container.show()},0),bottomBar(["share"],i.memberId,"","确认签收","取消签收"),i.submitFn()},orderBaseInfo:function(){var i="",a={serviceId:"B03_mobileReceiveInfoByNo",companyIdList:_vParams.companyIdList,formNo:_vParams.formNo,commonParam:commonParam(),token:_vParams.token,secretNumber:_vParams.secretNumber};$.ajax({type:"POST",url:config.serviceUrl,data:"param="+JSON.stringify(a),success:function(a){if(a=a||{},a.success){i+='<div id="orderHeadInfo" class="m-item"><div class="item-wrap">	<ul>		<li><span>供应商：</span><b>'+a.vendorName+"</b></li>		<li><span>物流单号：</span><b>"+a.doFormNo+"</b></li>		<li><span>出货人：</span>"+a.deliveryManName+"</li>		<li><span>出货日期：</span>"+transDate(a.doFormDate)+'</li>	</ul></div></div><div id="prodBodyInfo" class="m-item m-item2"><h2 class="m-title">出货明细</h2>';for(var e=0,n=a.lineList.length;n>e;e++)i+='<div class="item-wrap">	<ul>		<li><span>采购单号：</span><b>'+a.lineList[e].poFormNo+"</b></li>		<li><span>物料编码：</span><b>"+a.lineList[e].prodCode+"</b></li>		<li><span>物料详细：</span><p>"+a.lineList[e].prodDesc+"</p></li>		<li><span>待收货数量：</span>"+a.lineList[e].waitReceiveQty+a.lineList[e].purchaseUnitName+" / "+a.lineList[e].waitVaReceiveQty+a.lineList[e].valuationUnitName+"</li>		<li><span>批号：</span>"+a.lineList[e].batchNo+"</li>		<li><span>出货备注：</span>"+a.lineList[e].remark+'</li>	</ul>  <a href="#" class="edit"></a></div>';i+="</div>",container.html(i)}}})},prodBodyInfo:function(){var i="",a={serviceId:"B03_mobileRoLineList",companyId:_vParams.companyId,roId:_vParams.roId,commonParam:commonParam(),token:_vParams.token,secretNumber:_vParams.secretNumber};return $.ajax({type:"POST",url:config.serviceUrl,data:"param="+JSON.stringify(a),success:function(a){if(a=a||{},a.success){var e=a.roLineList;i='<h2 class="m-title">出货明细</h2>';for(var n=0,o=e.length;o>n;n++)i+='<div class="item-wrap">	<ul>		<li><span>采购单号：</span><b>'+e[n].sourcePoNo+"</b></li>		<li><span>物料编码：</span><b>"+e[n].prodCode+"</b></li>		<li><span>物料详细：</span><p>"+e[n].prodDesc+"</p></li>		<li><span>待收货数量：</span></li>		<li><span>收货数量：</span>"+e[n].receiveValuationQty+" "+e[n].valuationUnitName+"</li>		<li><span>批号：</span>"+e[n].batchNo+"</li>		<li><span>出货备注：</span>"+e[n].remark+'</li>	</ul>  <a href="#" class="edit"></a></div>';$("#prodBodyInfo").html(i)}else container.show().html('<p style="text-align:center;">'+a.errorMsg+"</p>"),fnTip.hideLoading()}}),i},popup:function(i,a,e,n,o){new Popup({type:i,title:a,content:e,ok:"确定",cancel:"取消",closeCallBack:n,okCallBack:o})},submitFn:function(){var i=this,a="您确定要取消签收吗？";$body.on("click",".bottom-btn-confirm",function(){}),$body.on("click",".bottom-btn-cancel",function(){i.popup("confirm","",a,function(){},function(){})})}};