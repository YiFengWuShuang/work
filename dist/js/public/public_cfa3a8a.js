function MProdList(e,t){return'<div class="MProdList"><table><thead><tr><th>产品编码</th><th>产品名称</th><th>产品规格</th><th>操作</th></tr></thead><tbody'+(t?' class="overflow"':"")+">"+e+"</tbody></table></div>"}function commonParam(){return{dataSource:dataSource(),interfaceVersion:"",mobileModel:"",mobileSysVersion:"",sourcePage:window.location.pathname,sourceSystem:"1"}}function GetUserInfo(e,t,n){$.ajax({type:e,async:!1,url:config.userInfo,data:JSON.stringify(t),success:function(e){n&&n(e)}})}function GetAJAXData(e,t,n,i){i=!!i,$.ajax({type:e,async:i?!0:!1,url:config.serviceUrl,data:{param:JSON.stringify(t)},success:function(e){n&&n(e)}})}function getQueryString(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null}function transDate(e){if(!e)return"";var t=new Date(e),n=t.getFullYear(),i=t.getMonth()+1,o=t.getDate();return n+"-"+(10>i?"0"+i:i)+"-"+(10>o?"0"+o:o)}function formatMoney(e,t){return e=""==e?0:parseFloat(e),t=t||2,e.toFixed(t)}function loadScript(e,t){var n=document.createElement("script");n.type="text/javascript",n.onload=function(){t&&t()},n.src=e,document.body.appendChild(n)}function dataSource(){var e=window.navigator.userAgent.toLowerCase();return/iphone|ipod|ipad|Macintosh/i.test(e)?4:/android/i.test(e)?3:/iphone|ipod|android.*mobile|windows.*phone|blackberry.*mobile/i.test(e)?/micromessenger/i.test(e)?2:void 0:1}function requestFn(e,t){PARAM.content.body.commonParam=commonParam(),PARAM.content.body.method="enumInfoMgr",PARAM.content.body.data={action:"query",MainKey:e},$.ajax({type:"POST",dataType:"json",async:!1,url:config.ossConfigUrl,data:JSON.stringify({params:PARAM}),success:t})}function enumFn(e,t){var n="";return e.forEach(function(e){t==e.Key&&(n=e.Value)}),n}function reEnumFn(e,t){var n="";return e.forEach(function(e){t==e.Value&&(n=e.Key)}),n}function popup(e,t,n,i,o){new Popup({type:e,title:t,content:n,ok:"确定",cancel:"取消",closeCallBack:i,okCallBack:o})}function isUndefined(e){return"undefined"==typeof e}function isEmpty(e){return isUndefined(e)||""===e||null===e||e!==e}function isMobileUserAgent(){return/iphone|ipod|android.*mobile|windows.*phone|blackberry.*mobile/i.test(window.navigator.userAgent.toLowerCase())}function isAppleMobileDevice(){return/iphone|ipod|ipad|Macintosh/i.test(navigator.userAgent.toLowerCase())}function isAndroidMobileDevice(){return/android/i.test(navigator.userAgent.toLowerCase())}function setupWebViewJavascriptBridge(e){if(window.WebViewJavascriptBridge)return e(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(e);window.WVJBCallbacks=[e];var t=document.createElement("iframe");t.style.display="none",t.src="wvjbscheme://__BRIDGE_LOADED__",document.documentElement.appendChild(t),setTimeout(function(){document.documentElement.removeChild(t)},0)}function connectWebViewJavascriptBridge(e){window.WebViewJavascriptBridge?e(WebViewJavascriptBridge):document.addEventListener("WebViewJavascriptBridgeReady",function(){e(WebViewJavascriptBridge)},!1)}function webViewTitle(e){window.WebViewJavascriptBridge&&window.WebViewJavascriptBridge.callHandler("title",{param:e},function(){})}function goBack(){isAndroidMobileDevice()&&window.WebViewJavascriptBridge?window.WebViewJavascriptBridge.callHandler("exit",{param:""},function(){}):setupWebViewJavascriptBridge(function(e){e.callHandler("exit",{param:""},function(){})})}function FileDownload(e,t,n){return decodeURIComponent(e)+"&token="+t+"&secretNumber="+n}var $body=$(document.body),_vParams=JSON.parse(decodeURIComponent(getQueryString("param"))),_reg=/^(\s|\S)+(jpg|jpeg|png|gif|bmp|JPG|JPEG|PNG|GIF|BMP)+$/,config={serviceUrl:"",ossConfigUrl:"",ossNotifyUrl:"",ussUrl:"",htmlUrl:"",userInfo:""};config.serviceUrl="http://54.222.203.245:7000/supplyCenter/services/invokeRestfulSrv/supplyCloudService",config.ossConfigUrl="http://172.31.10.168:19790/oss/config/api",config.ossNotifyUrl="http://172.31.10.155:19890/oss/notify/api",config.ussUrl="http://172.31.10.168/usersystem",config.htmlUrl="http://172.31.10.164/dist/html/",config.userInfo="http://54.222.203.245:7200/usersystem/login/getTokenList/v1";var PARAM={content:{header:{key:"",module:"",operator:""},body:{method:"",commonParam:{},data:{}}}},fnTip={success:function(e,t){t=t||"操作成功";var n='<span class="successTip"><b>操作成功</b></span>';$body.append(n),setTimeout(function(){$(".successTip").remove()},e)},error:function(e,t){t=t||"操作失败";var n='<span class="errorTip"><b>操作失败</b></span>';$body.append(n),setTimeout(function(){$(".errorTip").remove()},e)},loading:function(){var e='<div class="loader-inner ball-clip-rotate"><div></div></div>';$body.append(e)},hideLoading:function(){$(".ball-clip-rotate").length&&$(".ball-clip-rotate").remove()}},cookie={setCookie:function(e,t,n){var i=new Date;i.setDate(i.getDate()+n),document.cookie=e+"="+escape(t)+(null==n?"":";expires="+i.toGMTString()+"; path=/;")},getCookie:function(e){for(var t=document.cookie.split("; "),n=0;n<t.length;n++){var i=t[n].split("=");if(e==i[0])return unescape(i[1])}return null}};$body.on("click",".vfiles a, .files a",function(e){var t=$(this),n=t.attr("href");return isEmpty(_vParams.token)||isEmpty(_vParams.secretNumber)?(e.preventDefault(),!1):void t.attr("href",FileDownload(n,_vParams.token,_vParams.secretNumber))});